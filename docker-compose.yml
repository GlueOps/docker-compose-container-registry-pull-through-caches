version: '3'
services:
  registry-docker:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5000:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://registry-1.docker.io
    restart: always
  registry-quay:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5001:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://quay.io
    restart: always
  registry-ghcr:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5002:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://ghcr.io
    restart: always
  registry-gcr:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5003:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://gcr.io
    restart: always
  registry-aws:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5004:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://public.ecr.aws
    restart: always
  registry-mcr:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5005:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://mcr.microsoft.com
    restart: always
  registry-gitlab:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5006:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://registry.gitlab.com
    restart: always
  registry-k8s:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5007:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://registry.k8s.io
    restart: always
  public-mirror-gpkg-io:
    image: registry:3@sha256:cd92709b4191c5779cd7215ccd695db6c54652e7a62843197e367427efb84d0e
    volumes:
      - ./data:/var/lib/registry
    ports:
      - "5008:5000"
    environment:
      REGISTRY_PROXY_REMOTEURL: https://public-mirror.gpkg.io
    restart: always


#https://distribution.github.io/distribution/recipes/mirror/
#https://distribution.github.io/distribution/recipes/mirror/#configure-the-cache
#https://distribution.github.io/distribution/about/deploying/#customize-the-storage-location
